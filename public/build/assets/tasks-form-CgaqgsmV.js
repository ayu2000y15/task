function v(){var f;const a=document.getElementById("task-form-page");if(!a)return;const B=a.dataset.taskType,d=document.querySelectorAll('input[name="is_milestone_or_folder"]'),o=document.getElementById("task-fields-individual"),s=document.getElementById("status-field-individual"),l=document.getElementById("assignees_wrapper_individual"),c=document.getElementById("file-management-section"),r=document.getElementById("character_id_wrapper_individual")||document.getElementById("character_id_wrapper_individual_edit"),u=document.getElementById("parent_id_wrapper_individual")||document.getElementById("parent_id_wrapper_individual_edit"),m=document.getElementById("duration_wrapper_individual")||document.getElementById("duration_wrapper_individual_edit"),p=document.getElementById("start_date_individual"),y=document.getElementById("end_date_individual"),_=document.getElementById("assignees_select");_&&new TomSelect(_,{plugins:["remove_button"],create:!1,placeholder:"担当者を検索・選択..."});function g(n){if(!n)return;const e=n==="milestone",t=n==="folder",i=n==="todo_task";r&&(r.style.display=e?"none":"block"),u&&(u.style.display=e?"none":"block"),m&&(m.style.display=e||t||i?"none":"block"),l&&(l.style.display=e||t?"none":"block"),s&&(s.style.display=e||t?"none":"block"),o&&(o.style.display=t||i?"none":"block");const h=!!document.getElementById("task-edit-form");c&&(c.style.display=h&&t?"block":"none");const E=t||i;p&&(p.disabled=E),y&&(y.disabled=E);const I=document.getElementById("duration_value"),k=document.getElementById("duration_unit");I&&(I.disabled=t||i||e),k&&(k.disabled=t||i||e)}d.length>0&&d.forEach(n=>{n.addEventListener("change",e=>g(e.target.value))});const b=d.length>0?((f=document.querySelector('input[name="is_milestone_or_folder"]:checked'))==null?void 0:f.value)||"task":B;g(b)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",v):v();
